<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iron-list/iron-list.html">
<link rel="import" href="../../bower_components/iron-collapse/iron-collapse.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/iron-ajax/iron-ajax.html">


<dom-module id="rms-schedule">
<style>


</style>

<template>
  <div class="rms-main vertical layout left">

<style as="custom-style">
  paper-button {
    background : rgba(75,0,130,.5);
  }
</style>
    <paper-button tabindex="0" toggles on-click="_pbclick"><iron-icon icon="view-stream" style="padding: 5px" on-click="_iiclick" ></iron-icon>{{buttontext}}</paper-button>

    <iron-collapse class="rms-main vertical layout">

    <iron-ajax url="{{dataurl}}" last-response="{{data}}" auto></iron-ajax>

      <div rms-main layout vertical center-center>
        <iron-list items="[[data]]" as="item"  >
            <template>
              <div rms-main layout vertical center-center>
                <div ><h3>[[item.date]], [[item.home-team]] v. [[item.away-team]] </h3></div>
                <div >[[item.location]]</div>
                <div >home team: [[item.home-team]] </div>
                <div>away team: [[item.away-team]]</div>
                <div >[[item.result]] </div>
                <div >summary: [[item.summary]] </div>
              </div>
            </template>
          </iron-list>
        </div>
    </iron-collapse>

  </div>

</template>

<script>
Polymer({
  is: 'rms-schedule',
  properties: {
    dataurl: {
      type: String,
      notify: true
    },
    buttontext: {
      type: String,
      notify: true
    }
  },
  _pbclick(b,detail){ // ? too easy
b.target.nextElementSibling.toggle();
    // b.srcElement.nextElementSibling.toggle();
  },
  _iiclick(i,detail) {
    i.target.parentElement.nextElementSibling.toggle();
    i.stopPropagation();
  }


});

</script>

</dom-module>
